Code base:
https://github.com/multiwii/multiwii-firmware

integrated position holding feature using optical flow sensor from below repo:

http://code.google.com/p/multiwii-alexmos/

integrated sonar and baro fusion altitude holding feature from below discussing thread:

http://www.multiwii.com/forum/viewtopic.php?f=7&t=1033&sid=2904c0d96eaa0626f0b7037481b7e453&start=150

and the code provided by penpen77, filename is "MultiWii_r1240_sonar.rar":
http://www.multiwii.com/forum/download/file.php?id=1616

